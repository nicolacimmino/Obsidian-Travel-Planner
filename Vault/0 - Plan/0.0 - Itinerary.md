### Current

```dataview
LIST WITHOUT ID

choice(dateformat(date("today"), "yyMMdd") = dateformat(planned-at, "yyMMdd"), "**", "") +

dateformat(planned-at,"yyyy-MM-dd HH:mm") +
padleft(truncate(upper(nonnull(name, file.name, "")[0]),29, "+"), 31, ".") + "<br>" +

choice(lower(type)="accomodation",
"CIN:" + padleft(dateformat(check-in,"yyyy-MM-dd HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"OUT:" + padleft(dateformat(check-out,"yyyy-MM-dd HH:mm"), 18, "." ) + "<br>", "") +

choice(arrive-by,
"ABY:" + padleft(dateformat(arrive-by,"yyyy-MM-dd HH:mm"), 43, ".") + 
"<br>", "") +

choice(start,
"STA:" + padleft(dateformat(start,"yyyy-MM-dd HH:mm"), 43, ".") + 
"<br>", "") +

choice(lower(type)="car",
"PUP:" + padleft(dateformat(pick-up,"yyyy-MM-dd HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"DOF:" + padleft(dateformat(drop-off,"yyyy-MM-dd HH:mm"), 18, "." ) + "<br>", "") +

choice(any(lower(type)="flight",lower(type)="bus",lower(type)="train"),
"ORG:" + padleft(upper(origin), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"DST:" + padleft(upper(destination), 18, ".") + "<br>", "") +

choice(any(lower(type)="flight",lower(type)="bus",lower(type)="train"),
"ETD:" + padleft(dateformat(departure,"HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 

"ETA:" + padleft(dateformat(arrival,"HH:mm")+ choice(departure.day=arrival.day, "", "+1"), 18, ".") + "<br>", "") +

choice(lower(type)="flight",
"FNO:" + padleft(upper(flight-no), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"PNR:" + padleft(upper(pnr), 18, ".") + "<br>", "") +

choice(booking-ref,
"REF:" + padleft(upper(booking-ref), 43, ".") + "<br>", "") +

"[[" + file.name + "|DETAILS]]<br>" +

choice(dateformat(date("today"), "yyMMdd") = dateformat(planned-at, "yyMMdd"), "**", "") +
"<br>"
FROM #itinerary
WHERE all(
!contains(file.path, "Templates"), 
dateformat(date("today"), "yyMMdd") = dateformat(planned-at, "yyMMdd"))
SORT planned-at ASC
```

----

#### Full Plan

```dataview
LIST WITHOUT ID

choice(dateformat(date("today"), "yyMMdd") = dateformat(planned-at, "yyMMdd"), "**", "") +

dateformat(planned-at,"yyyy-MM-dd HH:mm") +
padleft(truncate(upper(nonnull(name, file.name, "")[0]),29, "+"), 31, ".") + "<br>" +

choice(lower(type)="accomodation",
"CIN:" + padleft(dateformat(check-in,"yyyy-MM-dd HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"OUT:" + padleft(dateformat(check-out,"yyyy-MM-dd HH:mm"), 18, "." ) + "<br>", "") +

choice(arrive-by,
"ABY:" + padleft(dateformat(arrive-by,"yyyy-MM-dd HH:mm"), 43, ".") + 
"<br>", "") +

choice(start,
"STA:" + padleft(dateformat(start,"yyyy-MM-dd HH:mm"), 43, ".") + 
"<br>", "") +

choice(lower(type)="car",
"PUP:" + padleft(dateformat(pick-up,"yyyy-MM-dd HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"DOF:" + padleft(dateformat(drop-off,"yyyy-MM-dd HH:mm"), 18, "." ) + "<br>", "") +

choice(any(lower(type)="flight",lower(type)="bus",lower(type)="train"),
"ORG:" + padleft(upper(origin), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"DST:" + padleft(upper(destination), 18, ".") + "<br>", "") +

choice(any(lower(type)="flight",lower(type)="bus",lower(type)="train"),
"ETD:" + padleft(dateformat(departure,"HH:mm"), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 

"ETA:" + padleft(dateformat(arrival,"HH:mm")+ choice(departure.day=arrival.day, "", "+1"), 18, ".") + "<br>", "") +

choice(lower(type)="flight",
"FNO:" + padleft(upper(flight-no), 18, ".") + 
"&nbsp;&nbsp;&nbsp;" + 
"PNR:" + padleft(upper(pnr), 18, ".") + "<br>", "") +

choice(booking-ref,
"REF:" + padleft(upper(booking-ref), 43, ".") + "<br>", "") +

"[[" + file.name + "|DETAILS]]<br>" +

choice(dateformat(date("today"), "yyMMdd") = dateformat(planned-at, "yyMMdd"), "**", "") +
"<br>"
FROM #itinerary
WHERE !contains(file.path, "Templates")
SORT planned-at ASC
```
